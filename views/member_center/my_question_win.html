<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>simple-page</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css" />
    <link rel="stylesheet" href="../../css/common.css">
    <style type="text/css">
    #header{
        display: none;
    }
    #header.active{
        display: block;
    }
    #header .header-multi.active{
        display: block;
    }
    #header .header-multi .header-normal{
        display: none;
    }
    #header .header-multi .header-normal.active{
        display: block;
    }
    #header .header-normal .header-center{
        margin: 0 9rem;
    }
    #header .header-normal .header-btn .icon-close {
        background: url(../../image/project/icon_close.png) center center no-repeat;
        background-size: 1.6rem;
        width: 100%;
        height: 100%;
    }
    #header .header-normal .header-btn .fa-angle-left{
        font-size: 2.8rem;
        background: url(../../image/arrow-left-white.png) center center no-repeat;
        background-size: 2rem;
        width: 100%;
        height: 100%;
    }
      .tap-active{background-color: #0060A8 !important;}
    </style>
</head>
<body>
    <div id="wrap">
        <div id="header" class="active">
            <div class="header-multi">
                <div class="header-normal header-normal-home active">
                    <div class="header-btn pull-left" tapmode="tap-active" onclick="historyBack()">
                        <span class="fa-angle-left"></span>
                    </div>
                    <div class="header-btn pull-left" tapmode="tap-active" onclick="closeWindow()">
                        <span class="icon-close"></span>
                    </div>
                    <div class="header-center">
                        <span class="title">My Question</span>
                    </div>
                </div>
            </div>
        </div>
        <div id="main">
                
        </div>
    </div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/ajaxRequest.js"></script>
<script type="text/javascript" src="../../script/languge.js"></script>
<script type="text/javascript">
	var header = $api.dom('#header');
	var header_title = $api.dom('#header .title');
    var account = $api.getStorage('loginInfo');
	apiready = function(){
	  	var pageParam = api.pageParam;
	  	$api.fixStatusBar(header);
	  	var header_h = $api.offset(header).h;

        var url = host +'APPCreateSchool/myask.aspx?UserID='+ parseInt(account.userid) +'&CaptchaNo='+ account.batchno;
		
        api.openFrame({
            name: 'my_question_frm',
            url: './my_question_frm.html',
            bounces: false,
            rect: {
                x: 0,
                y: header_h,
                w: 'auto',
                h: 'auto'
            },
            pageParam: {
                url: host +'APPCreateSchool/myask.aspx'
            },
            progress: {
                type: 'page',
                title: 'default',
                text: 'default',
                color: '#0171c5'
            }
        });
        // api.showProgress({
        //     title: 'Loading',
        //     text: Waiting…,
        //     modal: true
        // });
        // setTimeout(function(){
        //     api.openFrame({
        //         name: 'my_question_frm',
        //         url: url,
        //         bounces: false,
        //         rect: {
        //             x: 0,
        //             y: header_h,
        //             w: 'auto',
        //             h: 'auto'
        //         },
        //         pageParam: pageParam,
        //         progress: {
        //             type: 'page',
        //             title: 'default',
        //             text: 'default',
        //             color: '#0171c5'
        //         }
        //     });
        //     api.hideProgress();
        // },300);
	};
	    
	function historyBack(){
        var str = 'try{api.historyBack(function(ret,err){if(!ret.status){api.closeWin();}})}catch(e){}';
        api.execScript({
            name: api.winName,
            frameName: 'my_question_frm',
            script: str
        });
    }

    function closeWindow(){
        // 如果没有别的需要
        api.closeWin();
    };
</script>
</html>