<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,initial-scale=1.0,width=device-width"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>sample-frm</title>
    <link rel="stylesheet" type="text/css" href="../../css/api.css"/>
    <link rel="stylesheet" href="../../css/common.css">

    <style type="text/css">
        body {
            height: auto;
            min-height: 100%;
        }
        /*大体上通用的部分 start*/
        .common-part-service {

        }

        .whats-this {
            background-color: #F0F0F0;
            padding-top: 1.5rem;
        }

        .whats-this .this-name {
            font-size: 1.5rem;
            line-height: 2.5rem;
            color: #000000;
            background: url(../../image/project/icon_sample.png) 1rem 50% no-repeat;
            background-size: 2.5rem 2.5rem;
            text-indent: 4rem;
        }

        .whats-this .this-description {
            padding: 0.8rem 2.2rem 1rem 4rem;
            font-size: 1.3rem;
            line-height: 1.6rem;
            color: #515458;
            border-bottom: 0.2rem solid #C8C8C8;
        }

        .whats-this .design {
            padding-left: 4rem;
        }

        .whats-this .text, .whats-this .designer {
            font-size: 1.2rem;
            line-height: 2.6rem;
            color: #000000;
        }

        .whats-this .rank {

        }

        .whats-this .stars {
            color: #999999;
            font-size: 1.8rem;
            vertical-align: bottom;
            line-height: 2.6rem;
        }

        .whats-this .stars .fa-star {
            color: #FFDA00;
        }

        /*已选择的项目*/
        .project-header {
            padding: 0 1rem;
            background-color: #FFFFFF;
        }

        .project-header label {
            font-size: 1.6rem;
            line-height: 5.5rem;
        }

        .header-inner {
            width: 33.9rem;
            height: 8.4rem;
            border: 0.1rem solid #005BBC;
            border-radius: 0.6rem;
            position: relative;
        }

        .header-inner-img {
            position: absolute;
            left: 50%;
            margin-left: -1.6rem;
            top: -1.6rem;
            width: 3.2rem;
            height: 3.2rem;
            background: #FFFFFF url(../../image/project/project_list_icon.png) center center no-repeat;
            background-size: 1.9rem 2.2rem;
        }

        .header-inner .name {
            font-size: 1.5rem;
            color: #005BBC;
            text-align: center;
            line-height: 3rem;
            padding-top: 1.3rem;
            font-weight: bold;
        }

        .header-inner .date-group {
            position: absolute;
            left: 0;
            bottom: 0;
        }

        .header-inner .date-group .text, .header-inner .date-group .date {
            font-size: 1.2rem;
            line-height: 2.1rem;
            color: #000000;
            padding-left: 1rem;
        }

        .header-inner .date-counting {
            width: 11.7rem;
            margin: 0 auto;
            text-align: center;
            color: #F7AA00;
            font-size: 1.2rem;
        }

        .header-inner .date-counting .count {
            font-size: 2.8rem;
            line-height: 4rem;
        }

        .header-inner .project-state {
            position: absolute;
            right: 0;
            bottom: 0.6rem;
            font-size: 1.2rem;
            line-height: 2rem;
            padding-right: 0.5rem;
        }

        .project-header .create-group {
            font-size: 1.3rem;
            line-height: 4.5rem;
            text-align: right;
            color: #595C60;
        }

        .project-header .create-group .btn-create {
            background-color: #0071C5;
            border-radius: 0.3rem;
            width: 10.9rem;
            height: 2.8rem;
            color: #FFFFFF;
            text-align: center;
            line-height: 2.8rem;
        }

        /*大体上通用的部分 end*/
        .propose-title {
            height: 3.7rem;
            line-height: 3.7rem;
            font-size: 1.5rem;
            background-color: #DBF0FF;
            color: #0271C5;
            background-image: url("../../image/project/icon_quote_right.png");
            background-position-x: 1rem;
            background-position-y: center;
            background-repeat: no-repeat;
            background-size: 2rem;
            padding-left: 3.8rem;
            font-weight: bold;
        }
        .form{
			padding-left: 1rem;
			background-color: #FFFFFF;
        }
        .form.no-padded{
        	padding-left: 0;
        	background-color: transparent;
        }
        .form .form-title{
			height: 2.8rem;
			line-height: 2.8rem;
			color: #0271C5;
			background-color: #F0F0F0;
			font-size: 1.3rem;
			text-indent: 1rem;
        }
		.form .form-group{
			background-color: #FFFFFF;
		}
		.form.no-padded .form-group{
			padding-left: 1rem;
		}
		.form .form-group label{
			height: 3.8rem;
			line-height: 3.8rem;
			width: 11.5rem;
			font-size: 1.4rem;
			color: #000000;
		}
		.form .form-group .form-text-right{
			text-align: right;
			float: right;
			margin-right: 2rem;
			height: 3.8rem;
			line-height: 3.8rem;
			font-size: 1.4rem;
			color: #C9C9CF;
			width: 20rem;
		}
        /*.form .form-group input.form-text-right{
            color: #333333;
        }
        .form .form-group input.form-text-right[disabled]{
            color: #666666;
        }*/
		.form .current-board{
			height: 3rem;
			line-height: 3rem;
			padding: 0 1rem;
			font-size: 1.1rem;
			color: #5B5E61;
		}
		.fake-link{
			color: #0071C5;
			text-decoration: underline;
		}
        .fake-link.addrInfo{font-size: 1.5rem}
		.form .current-board .fake-link{
			font-size: 1.1rem;
			line-height: 3rem;
			margin-left: 2.3rem;
		}
		.form .radio-group{
		}
		.radio-title{
			/*height: 3rem;*/
			line-height: 2rem;
			padding: 0 1rem;
			font-size: 1.5rem;
			color: #000000;
		}
        .radio-title-line{
            /*line-height: 3rem;*/
        }

		/*radio*/
		.propose-select, .fileuploadLabel {
		    padding-left: 10px;
		    font-size: 1.6rem;
		    position: relative;
		}
		.radioSwitch.show {
		    background-image: url('../../image/project/promotion_circle_highlight.png');
		    color: #0071C5;
		}
        .radioSwitch.yes{
            width : 5rem;
        }
        .radioSwitch.no{
            width : 5rem;
        }
        .radioSwitch.notYet{
            width : 11rem;
        }
		.radioSwitch {
			width: 7.7rem;
		    background-image: url('../../image/project/promotion_circle_normal.png');
		    background-size: 1.5rem;
		    background-repeat: no-repeat;
		    background-position: left center;
		    line-height: 2rem;
		    font-size: 1rem;
		    text-indent: 2rem;
		}
		.show.selectSwitch {
		    background-image: url('../../image/project/MCSI_Selected2.png');
		    background-size: 2rem 1.8rem;
    		background-position: 0 44%;
		}
        .propose-select .selectSwitchValue{
            margin: 1rem 0px;
        }
		.selectSwitch {
		    background-image: url('../../image/project/MCSI_Selected1.png');
		    background-size: 1.5rem;
		    background-repeat: no-repeat;
		    background-position: 0 50%;
		    line-height: 2.6rem;
		    font-size: 1.1rem;
		    color: #000000;
		    text-indent: 2rem;
		    display: inline-block;
		    margin-bottom: 1.2rem;
		}
		.selectSwitch.text-alot{
			line-height: 1.4rem;
			text-indent: 0;
			padding-left: 2rem;
			background-position: 0 0;
		}
		.show.selectSwitch.text-alot{
			background-position: 0 -6%;
		}
		.propose-select .fake-link{
			text-decoration: none;
			font-size: 1.1rem;
		}
		/*radio*/
		.form .more-wanted{
			width: 34rem;
			height: 9.4rem;
			border: 1px solid #cccccc;
			margin: 0 auto;
			display: block;
			resize: none;
			font-size: 1.3rem;
			line-height: 1.6rem;
			padding: 1rem 0.6rem;
			overflow-x: hidden;
			-webkit-box-sizing: border-box;
			        box-sizing: border-box;
			background-color: #FFFFFF;
			margin-bottom: 2.5rem;
		}
		/*upload start*/
		.form .upload-group{
			position: relative;
			margin-bottom: 3rem;
			padding-left: 1rem;
		}
		.form .upload-label{
			color: #000000;
		    font-size: 1.1rem;
		    padding: 1rem;
		    padding-left: 0;
		    line-height: 1.4rem;
		}
		.form .upload-group img{
			width: 7.7rem;
			height: 7.7rem;
		}
		.form .upload-group .image-name{
			position: absolute;
			left: 9.2rem;
			bottom: 3.5rem;
			font-size: 0.9rem;
			color: #999999;
			line-height: 1.9rem;
		}
		.form .upload-group .notice{
			position: absolute;
			left: 9.2rem;
			bottom: 0;
			font-size: 0.9rem;
			color: #999999;
			line-height: 1.9rem;
		}
		/*upload end*/
		.form-tips{
			font-size: 0.9rem;
			padding: 1rem;
			line-height: 1.2rem;
			color: #888888;
			margin-bottom: 2rem;
		}

		.btn-submit{
			width: 18rem;
			height: 3.8rem;
			margin: 3rem auto;
			text-align: center;
			color: #FFFFFF;
			background-color: #0071C5;
			border-radius: 0.4rem;
			line-height: 3.8rem;
			font-size: 1.6rem;
		}
		label.fake-link {
		    text-decoration: none;
		    font-size: 1.4rem;
		    line-height: 2.5rem;
		    height: 2.5rem;
		    text-indent: 1rem;
		}
    </style>
</head>
<body>
<div class="common-part-service">
    <div class="whats-this">
        <p class="this-name">
            Free Sample
        </p>

        <p class="this-description">
           Please apply the free sample based on the project request, and fill out the sample, CRB receiver in detail.
We will apply the free sample for your company based on the information you have submitted (the quantity of available sample will adjusted according to the Intel sample system requirement), then free sample will be sent based on the information you fill on this page.。
        </p>

        <div class="design">
            <span class="text">Designer：</span>
				<span class="designer">
					
				</span>

            <div class="rank">
                <span class="text">Satisfaction</span>
					<span class="stars">
	                    <!-- <i class="fa-star fa"></i>
	                    <i class="fa-star fa"></i>
	                    <i class="fa-star fa"></i>
	                    <i class="fa-star fa"></i>
	                    <i class="fa-star fa"></i> -->
	                </span>
                <span class="text"></span>
            </div>
        </div>
    </div>
    <!-- 已选择的项目 -->
    <div class="project-header">
        <label>The project you have selected：</label>

        <div class="header-inner">
            <div class="header-inner-img"></div>
            <p class="name"></p>

            <div class="header-bottom">
                <div class="date-group">
                    <p class="text">Project starts at</p>

                    <p class="date"></p>
                </div>
                <div class="date-counting">
                    <span class="count"></span>
                    day
                </div>
                <div class="project-state">In Cultivate Stage</div>
            </div>
        </div>
        <p class="create-group">
            If you are not applying support for this project, please first
            <span class="btn-create" tapmode onclick="createNewProject()">add new project</span>
        </p>
    </div>
</div>

<div class="propose">
    <div class="propose-title border-1px-top border-1px-bottom">
        Please fill in the table below
    </div>
    <div class="form no-padded">
    	<p class="radio-title radio-title-line">
			Which sample do you want to apply related to this project?：
		</p>
        <div id="what_to_request">
            <div class="propose-select">
                <div class="selectSwitch selectSwitch1 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,'selectSwitch')">
                    125
                </div>
            </div>
            <div class="form-group border-1px-top clearfix">
                <label class="pull-left">Application #</label>
                <span class="form-text-right selectCount1 " data-id="125" tapmode onclick="setSampleCount(this)">---Select---</span>
            </div>
            <div class="propose-select">
                <div class="selectSwitch selectSwitch2 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,'selectSwitch')">
                    168
                </div>
            </div>
            <div class="form-group border-1px-top clearfix">
                <label class="pull-left">Application #</label>
                <span class="selectCount2 form-text-right" data-id="168" tapmode onclick="setSampleCount(this)">---Select---</span>
            </div>
        </div>
    	
    	<p class="form-tips">
    		Please notice that system will adjust the sample quantity according to the actual situation, the actual sample quantity is based on the actual needs.。
    	</p>
    	<p class="radio-title">
			To make a better evaluation for your applied sample, please give a general introduction on this product.
		</p>
		<textarea id="" class="more-wanted" placeholder=""></textarea>
    	<div class="radio-group">
    		<p class="radio-title">
    			If this project approved, do you want to develop other products based on this platform?
    		</p>
    		<div class="propose-select" style="margin-left: 30px">
		        <span class="radioSwitch yes show" tapmode="" onclick="toggleSwitch(this,'radioSwitch')">
		            Yes
		        </span>
		        <span class="radioSwitch no " tapmode="" onclick="toggleSwitch(this,'radioSwitch')">
		            No
		        </span>
		        <span class="radioSwitch notYet" tapmode="" onclick="toggleSwitch(this,'radioSwitch')">
		            Not decided yet
		        </span>
		    </div>
    	</div>
    	<div class="propose-select">
    		<div class="selectSwitch sample-agree" tapmode="" onclick="toggleSwitch(this,'selectSwitch')">
                I have read and agree 
	        </div>
	        <span class="fake-link" tapmode="" onclick="goBoardNotice()">
    			Terms and Conditions
    		</span>
    	</div>
    	<div class="propose-select">
    		<div class="selectSwitch text-alot" tapmode="" onclick="toggleSwitch(this,'selectSwitch')">
	            I agreed with Intel or its partner contact me with telephone or email, to tell more information about Intel sample, Intel and its partner also can use my contact information on providing product or support.
	        </div>
    	</div>
	</div>
	<label class="fake-link addrInfo">Address Information</label>
	<p class="radio-title" style="margin-bottom: 0.5rem;">
		following information is required, we will save the recourses to your personal information, you donor need to fill it next time.
	</p>
	<div class="form">
		<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Company Name</label>
    		<input class="sample-company-name-zh form-text-right" type="text" placeholder="Company Name（Chinese）">
    	</div>
    	<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Company Name</label>
    		<input class="sample-company-name-en form-text-right" type="text" placeholder="Company Name（English）">
    	</div>
    	<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Company Address</label>
    		<input class="sample-company-address-zh form-text-right" type="text" placeholder="Company Address(Chinese)">
    	</div>
    	<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Postcode</label>
    		<input class="sample-postcode form-text-right" type="tel" placeholder="Required">
    	</div>
    	<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Company Address</label>
    		<input class="sample-company-address-en form-text-right" type="text" placeholder="Company Address(English)">
    	</div>
    	<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Telephone</label>
    		<input class="sample-tel form-text-right" type="tel" placeholder="Required">
    	</div>
    	<div class="form-group border-1px-top clearfix">
    		<label class="pull-left">Company Website</label>
    		<input class="sample-website form-text-right" type="text" placeholder="Required">
    	</div>
    </div>
		
    <div class="btn-submit btn" tapmode onclick="submitSample(this)">Submit</div>
    <div style="height: 1px"></div>
</div>
<div id="modal_selector" tapmode="" onclick="selectCancel()">
    <div class="select">
        <div class="select-control">
            <div class="select-control-cancel" tapmode="" onclick="selectCancel()">Cancel</div>
            <div class="select-control-placeHolder"></div>
            <div class="select-control-ok" tapmode="" onclick="selectCancel()">Yes</div>
        </div>
        <div class="select-content">

        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="../../script/api.js"></script>
<script type="text/javascript" src="../../script/ajaxRequest.js"></script>
<script type="text/javascript" src="../../script/languge.js"></script>
<script type="text/javascript" src="../../script/translation.js"></script>
<script type="text/javascript">

    // 以下通用
    var account = $api.getStorage('loginInfo');
    var pageParam = {};
    var projectID = '';
    var typeid = 3;
    var UICustomPicker;
    var zhuge;

    apiready = function () {
        pageParam = api.pageParam;
        projectID = pageParam.id;
        zhuge = api.require('zhuge');
        if (zhuge) {
            zhuge.initZhuge();
        }
        UICustomPicker = api.require('UICustomPicker');
        getProjectDetail();
        getProjectDesigner();
    };

    function getProjectDesigner(){
        ajaxRequest('/APPSupportManage/GetSupportAppraise.aspx', 'get', {
            UserID: account.userid,
            BatchNo: account.batchno, 
            SupportTypeID: typeid
        }, function(ret, err){
            if(ret && ret.res == undefined){
                // console.log('ret:normal===='+ JSON.stringify(ret));
                var data = ret.appdatalist[0];
                $api.html($api.dom('.designer'), data.UserName);
                
                var len = parseInt(data.EvaluateNumber);
                var str = '';
                for (var i = 0; i < len; i++) {
                    str+= '<i class="fa-star fa"></i>';
                }
                $api.html($api.dom('.stars'), str);
                $api.html($api.domAll('.rank .text')[1], '('+ data.UserNum +'Person)');
            } else{
                console.log('ret:err===='+ JSON.stringify(ret));
            }
            if (err) {
                console.log('err===='+ JSON.stringify(err));
            }

        });
        
    };

    var what_to_request = $api.dom('#what_to_request');
    function getProjectDetail(){
        ajaxRequest('/APPProjectManage/APPGetProjectDetail.aspx', 'get', {
            UserID: account.userid,
            BatchNo: account.batchno,
            ProjectID: projectID
        }, function(ret, err){
            if(ret && ret.res == undefined){
                var data = ret.appdatalist[0];
                $api.html($api.dom('.project-header .header-inner .name'), data.ProjectName);
                $api.html($api.dom('.project-header .header-inner .date'), data.CreateDate);
                $api.html($api.dom('.project-header .header-inner .count'), data.ProjectStartDay);
                $api.html($api.dom('.project-header .header-inner .project-state'), 'In '+ ( fnTranslation( data.ProjectStatus, true) )  +' stage');
                var str = '';
                if (data.IntelProductNum1) {
                    str += '<div class="propose-select">';
                        str += '<div class="selectSwitch selectSwitch1 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,\'selectSwitch\')">';
                            str += data.IntelProductNum1;
                        str += '</div>';
                    str += '</div>';
                    str += '<div class="form-group border-1px-top clearfix">';
                        str += '<label class="pull-left">Application #</label>';
                        str += '<span class="form-text-right selectCount1" data-id="'+ data.IntelProductNum1 +'" tapmode onclick="setSampleCount(this)">---Select---</span>';
                    str += '</div>';
                }
                if (data.IntelProductNum2) {
                    str += '<div class="propose-select">';
                        str += '<div class="selectSwitch selectSwitch2 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,\'selectSwitch\')">';
                            str += data.IntelProductNum2;
                        str += '</div>';
                    str += '</div>';
                    str += '<div class="form-group border-1px-top clearfix">';
                        str += '<label class="pull-left">Application #</label>';
                        str += '<span class="form-text-right selectCount2" data-id="'+ data.IntelProductNum2 +'" tapmode onclick="setSampleCount(this)">---Select---</span>';
                    str += '</div>';
                }
                if (data.IntelProductNum3) {
                    str += '<div class="propose-select">';
                        str += '<div class="selectSwitch selectSwitch3 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,\'selectSwitch\')">';
                            str += data.IntelProductNum3;
                        str += '</div>';
                    str += '</div>';
                    str += '<div class="form-group border-1px-top clearfix">';
                        str += '<label class="pull-left">Application #</label>';
                        str += '<span class="form-text-right selectCount3" data-id="'+ data.IntelProductNum3 +'" tapmode onclick="setSampleCount(this)">---Select---</span>';
                    str += '</div>';
                }
                if (data.IntelProductNum4) {
                    str += '<div class="propose-select">';
                        str += '<div class="selectSwitch selectSwitch4 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,\'selectSwitch\')">';
                            str += data.IntelProductNum4;
                        str += '</div>';
                    str += '</div>';
                    str += '<div class="form-group border-1px-top clearfix">';
                        str += '<label class="pull-left">Application #</label>';
                        str += '<span class="form-text-right selectCount4" data-id="'+ data.IntelProductNum4 +'" tapmode onclick="setSampleCount(this)">---Select---</span>';
                    str += '</div>';
                }
                if (data.IntelProductNum5) {
                    str += '<div class="propose-select">';
                        str += '<div class="selectSwitch selectSwitch5 selectSwitchValue" tapmode="" onclick="toggleSwitch(this,\'selectSwitch\')">';
                            str += data.IntelProductNum5;
                        str += '</div>';
                    str += '</div>';
                    str += '<div class="form-group border-1px-top clearfix">';
                        str += '<label class="pull-left">Application #</label>';
                        str += '<span class="form-text-right selectCount5" data-id="'+ data.IntelProductNum5 +'" tapmode onclick="setSampleCount(this)">---Select---</span>';
                    str += '</div>';
                }
                $api.html(what_to_request, str);
            } else{
                console.log('ret:err===='+ JSON.stringify(ret));
            }
            if (err) {
                console.log('err===='+ JSON.stringify(err));
            }
        });
    };
    // 以上通用
    // 设置数量
    function setSampleCount(el){
        var scope = '1-20';
        openSelector(el, scope);
    };

    function toggleSwitch(obj,clz){
        var $selectSwitch = $api.domAll('.'+clz);
        var reg = /radio/g;
        if (reg.test(clz)) {
        	for(var i=0;i<$selectSwitch.length;i++){
	            $api.removeCls($selectSwitch[i],'show');
	        }
        } else {

        }
        if($api.hasCls(obj,'show')){
            $api.removeCls(obj,'show');
        }else{
            $api.addCls(obj,'show');
        }
    };

    // 查看条款
    function goBoardNotice(){
        var url = 'https://ccechina.intel.com/SystemManage/ProceduralClause.aspx';
        var move = isHuawei();
        var animation = {};
        if (move) {
            animation = {
                type: 'movein',
                subType: 'from_right'
            }           
        }
        api.openWin({
            name: 'web_clause_win',
            url: 'widget://' + DIR + '/web_page/web_win.html',
            bounces: false,
            vScrollBarEnabled: false,
            hScrollBarEnabled: false,
            pageParam: {
                title: 'Terms and Conditions',
                url: url
            },
            animation: animation
        });
    };
    // 获取表单信息
    function getFormInfo(){
        ajaxRequest('/APPSupportManage/APPGetSupportUserInfo.aspx', 'get', {
            UserID: account.userid,
            BatchNo: account.batchno
        }, function(ret, err){
            if (ret && ret.res == undefined) {
                // console.log('ret:normal===='+ JSON.stringify(ret));

                var data = ret.appdatalist[0];
                data.CompanyFullName && $api.val($api.dom('.sample-company-name-zh'), data.CompanyFullName);
                data.CompanyEnglish && $api.val($api.dom('.sample-company-name-en'), data.CompanyEnglish);
                data.CompanyAddressChinese && $api.val($api.dom('.sample-company-address-zh'), data.CompanyAddressChinese);
                data.CompanyAddressEnglish && $api.val($api.dom('.sample-company-address-en'), data.CompanyAddressEnglish);
                data.PostalCode && $api.val($api.dom('.sample-postcode'), data.PostalCode);
                data.OfficePhone && $api.val($api.dom('.sample-tel'), data.OfficePhone);
                data.CompanyWebSite && $api.val($api.dom('.sample-website'), data.CompanyWebSite);
            } else {
                api.toast({
	global: true,
                    msg: JSON.stringify(ret),
                    duration: 2000,
                    location: 'middle'
                });
            }
            if (err) {
                api.toast({
	global: true,
                    msg: JSON.stringify(err),
                    duration: 2000,
                    location: 'bottom'
                });
            }
        });
    };
    // submitSample
    var submitLock = false;
    function isEmepty(str){
        if (str == undefined || str == null) {
            return true;
        } else {}
        if ($api.trim(str) == '' || $api.trim(str) == '---Select---') {
            return true;
        } else {
            return false;
        }
    };
    function submitSample(el){
        if($api.domAll('.sample-agree.show').length){

        } else{
            api.alert({
                title: 'Notice', 
                msg: 'Please agree with Terms and Condition of Intel Embedded Sample Project',
                buttons: ['OK']

            });
            return false;
        }
        if($api.domAll('.text-alot.show').length){

        } else{
            api.alert({
                title: 'Notice', 
                msg: 'Please agree that Intel or its partner can contact me with telephone or e-mail。',
                buttons: ['OK']

            });
            return false;
        }

        var selectSwitchBtns = $api.domAll('#what_to_request .selectSwitch.show');

        var ProjectProduct = '', ProjectProductNum = '';
        if(selectSwitchBtns.length){
            for (var i = 0; i < selectSwitchBtns.length; i++) {
                if($api.hasCls(selectSwitchBtns[i], 'selectSwitch1')){
                    if (isEmepty($api.text($api.dom('.selectCount1')))) {
                        api.alert({
                            title: 'Notice', 
                            msg: 'Please Select the number of samples',
                            buttons: ['OK']

                        });
                        return false;
                    }
                    if(i == selectSwitchBtns.length - 1){
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i]));
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount1')));
                    } else{
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i])) + ',';
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount1'))) + ',';
                    }
                    
                }
                if($api.hasCls(selectSwitchBtns[i], 'selectSwitch2')){
                    if (isEmepty($api.text($api.dom('.selectCount2')))) {
                        api.alert({
                            title: 'Notice', 
                            msg: 'Please Select the number of samples',
                            buttons: ['OK']

                        });
                        return false;
                    }
                    if(i == selectSwitchBtns.length - 1){
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i]));
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount2')));
                    } else{
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i])) + ',';
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount2'))) + ',';
                    }
                }
                if($api.hasCls(selectSwitchBtns[i], 'selectSwitch3')){
                    if (isEmepty($api.text($api.dom('.selectCount3')))) {
                        api.alert({
                            title: 'Notice', 
                            msg: 'Please Select the number of samples',
                buttons: ['OK']

                        });
                        return false;
                    }
                    if(i == selectSwitchBtns.length - 1){
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i]));
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount3')));
                    } else{
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i])) + ',';
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount3'))) + ',';
                    }
                }
                if($api.hasCls(selectSwitchBtns[i], 'selectSwitch4')){
                    if (isEmepty($api.text($api.dom('.selectCount4')))) {
                        api.alert({
                            title: 'Notice', 
                            msg: 'Please Select the number of samples',
                buttons: ['OK']

                        });
                        return false;
                    }
                    if(i == selectSwitchBtns.length - 1){
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i]));
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount4')));
                    } else{
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i])) + ',';
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount4'))) + ',';
                    }
                }
                if($api.hasCls(selectSwitchBtns[i], 'selectSwitch5')){
                    if (isEmepty($api.text($api.dom('.selectCount5')))) {
                        api.alert({
                            title: 'Notice', 
                            msg: 'Please Select the number of samples',
                buttons: ['OK']

                        });
                        return false;
                    }
                    if(i == selectSwitchBtns.length - 1){
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i]));
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount5')));
                    } else{
                        ProjectProduct += $api.trim($api.text(selectSwitchBtns[i])) + ',';
                        ProjectProductNum += $api.trim($api.text($api.dom('.selectCount5'))) + ',';
                    }
                }

            }
        } else{
            api.alert({
                title: 'Notice', 
                msg: 'Please Select the number of samples',
                buttons: ['OK']

            });
            return false;
        }
        var ProductIntroduction = $api.trim($api.val($api.dom('.more-wanted')));
        if (isEmepty(ProductIntroduction)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please introduce this product',
                buttons: ['OK']

            });
            return false;
        }
        var IfConsider = $api.trim($api.text($api.dom('.radioSwitch.show')));
        var CompanyName = $api.trim($api.val($api.dom('.sample-company-name-zh')));
        if (isEmepty(CompanyName)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the company name in Chinese',
                buttons: ['OK']

            });
            return false;
        }
        var CompanyEnglishName = $api.trim($api.val($api.dom('.sample-company-name-en')));
        if (isEmepty(CompanyEnglishName)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the company name in English',
                buttons: ['OK']

            });
            return false;
        }
        var CompanyAddress = $api.trim($api.val($api.dom('.sample-company-address-zh')));
        if (isEmepty(CompanyAddress)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the company address in Chinese',
                buttons: ['OK']

            });
            return false;
        }
        var CompanyEnglishAddress = $api.trim($api.val($api.dom('.sample-company-address-en')));
        if (isEmepty(CompanyEnglishAddress)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the company address in English',
                buttons: ['OK']

            });
            return false;
        }
        var PostCode = $api.trim($api.val($api.dom('.sample-postcode')));
        if (isEmepty(PostCode)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the postcode',
                buttons: ['OK']

            });
            return false;
        }
        var OfficePhone = $api.trim($api.val($api.dom('.sample-tel')));
        if (isEmepty(OfficePhone)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the fixed phone',
                buttons: ['OK']

            });
            return false;
        }
        var CompanyWeb = $api.trim($api.val($api.dom('.sample-website')));
        if (isEmepty(CompanyWeb)) {
            api.alert({
                title: 'Notice', 
                msg: 'Please fill in the company website',
                buttons: ['OK']
                
            });
            return false;
        }
        // codes there
        if (submitLock) {
            return false;
        } else {
            submitLock = true;
            $api.attr(el, 'disabled', 'disabled');
        }

        if (zhuge) {
            zhuge.track({
                eventName: '项目支持_技术支持提交按钮',
                eventPro: {
                    '模块来源': '免费样片'
                }
            });
        }
        ajaxRequest('/APPSupportManage/APPSupportFreeModel.aspx', 'post', {
            UserID: account.userid,
            BatchNo: account.batchno,
            ItemNameID: projectID,
            ProjectProduct: ProjectProduct,
            ProjectProductNum: ProjectProductNum,
            ProductIntroduction: ProductIntroduction,
            IfConsider: IfConsider,
            CompanyName: CompanyName,
            CompanyEnglishName: CompanyEnglishName,
            CompanyAddress: CompanyAddress,
            CompanyEnglishAddress: CompanyEnglishAddress,
            PostCode: PostCode,
            OfficePhone: OfficePhone,
            CompanyWeb: CompanyWeb,
        }, function(ret, err){
            submitLock = false;
            $api.removeAttr(el, 'disabled');
            if(ret && ret.res){
                // console.log('ret:normal===='+ JSON.stringify(ret));
                api.toast({
	global: true,
                    msg: 'The request for Free Sample has been submitted successfully',
                    duration: 2000,
                    location: 'middle'
                });
                setTimeout(function(){
                    api.closeWin();
                },2000);
            } else{
                api.toast({
	global: true,
                    msg: JSON.stringify(ret),
                    duration: 2000,
                    location: 'middle'
                });
            }
            if (err) {
                api.toast({
	global: true,
                    msg: JSON.stringify(err),
                    duration: 2000,
                    location: 'middle'
                });
            }
        })
        api.closeWin();
    };
    // 调用selector
    var UICustomPickerElement,
        UICustomPickerId,
        selectorValue,
        selectorId,
        blurInput = $api.domAll('input'),
        blurText = $api.domAll('textarea');

    function openSelector(el, data){
        for (var i = 0; i < blurInput.length; i++) {
            blurInput[i].blur();
        }
        for (var j = 0; j < blurText.length; j++) {
            blurText[j].blur();
        }
        var scope = data;
        UICustomPickerElement = el;
        $api.addCls($api.dom('body'), 'selector-modal-show');
        var UICustomPickerContentOffset = $api.offset($api.dom('.select-content'));

        UICustomPicker.open({
            rect: {
                x: 0,
                y: api.frameHeight - UICustomPickerContentOffset.h,
                h: UICustomPickerContentOffset.h
            },
            styles: {
                bg: 'rgba(0,0,0,0)',
                normalColor: '#959595',
                selectedColor: '#3685dd',
                selectedSize: 30,
                tagColor: '#3685dd',
                tagSize: 10
            },
            data: [{
                scope: scope
            }],
            autoHide: false,
            rows: 5,
            fixedOn: api.frameName,
            fixed: true
        }, function( ret, err ){
            UICustomPickerId = ret.id;
            if(ret){
                console.log( JSON.stringify( ret ) );
                if(ret.eventType=='show'){
                    selectorValue = 1;
                    selectorId = 0;
                }else{
                    selectorValue = ret.data[0];
                    selectorId = ret.id;
                }
                selectOK();
            }
        });
    };
    function selectCancel() {
        UICustomPicker.close({
            id: UICustomPickerId
        });
        $api.removeCls($api.dom('body'), 'selector-modal-show');

        if( event ){event.cancelBubble = true;}
        
        return false;
    };

    function selectOK() {
        if (UICustomPickerElement.tagName.toLowerCase() == 'input') {
            $api.val(UICustomPickerElement, selectorValue);
            $api.attr(UICustomPickerElement, 'data-selectorid', selectorId);
        } else {
            $api.html(UICustomPickerElement, selectorValue);
            $api.attr(UICustomPickerElement, 'data-selectorid', selectorId);
        }
        if( event ){event.cancelBubble = true;}

        return false;
    };
</script>
</html>